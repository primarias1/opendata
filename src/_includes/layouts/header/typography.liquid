<link rel="preload" href="/assets/font/AtkinsonHyperlegible-Bold-kern-latin.woff2" as="font" type="font/woff2" crossorigin />
<link rel="preload" href="/assets/font/AtkinsonHyperlegible-Regular-kern-latin.woff2" as="font" type="font/woff2" crossorigin />

<style>
    @font-face {
        font-family: "Atkinson Hyperlegible";
        src: url(/assets/font/AtkinsonHyperlegible-Bold-kern-latin.woff2) format("woff2"),
        url(/assets/font/AtkinsonHyperlegible-Bold-kern-latin.woff2) format("woff");
        font-weight: 700;
        font-display: swap;
    }
    @font-face {
        font-family: "Atkinson Hyperlegible";
        src: url(/assets/font/AtkinsonHyperlegible-Regular-kern-latin.woff2) format("woff2"),
        url(/assets/font/AtkinsonHyperlegible-Regular-kern-latin.woff) format("woff");
        font-weight: 400;
        font-display: swap;
    }
</style>

<script>
    if( "fonts" in document ) {
        var regular = new FontFace("Atkinson Hyperlegible", "url(/assets/font/AtkinsonHyperlegible-Regular-hint-all.woff2) format('woff2'), url(/assets/font/AtkinsonHyperlegible-Regular-hint-all.woff) format('woff')");
        var bold = new FontFace("Atkinson Hyperlegible", "url(/assets/font/AtkinsonHyperlegible-Bold-hint-all.woff2) format('woff2'), url(/assets/font/AtkinsonHyperlegible-Bold-hint-all.woff) format('woff')", { weight: "700" });

        Promise.all([ bold.load(), regular.load() ]).then(function(fonts) {
            fonts.forEach(function(font) {
                document.fonts.add(font);
            });
        });
    }
</script>

<script>
    if(!("fonts" in document) && "head" in document) {
        // Awkwardly dump the second stage @font-face blocks in the head
        var style = document.createElement("style");
        // Note: Edge supports WOFF2
        style.innerHTML = "@font-face { font-family: 'Atkinson Hyperlegible'; src: url(/assets/font/AtkinsonHyperlegible-Regular-hint-all.woff2) format('woff2'), url(/assets/font/AtkinsonHyperlegible-Regular-hint-all.woff) format('woff'); } @font-face { font-family: 'Atkinson Hyperlegible'; font-weight: 700; src: url(/assets/font/AtkinsonHyperlegible-Bold-hint-all.woff2) format('woff2'), url(/assets/font/AtkinsonHyperlegible-Bold-hint-all.woff) format('woff'); }";
        document.head.appendChild(style);
    }
</script>

<script>
    // Service Worker for repeat views
    if( navigator.serviceWorker ) {
        window.addEventListener("load", function(_event) {
            navigator.serviceWorker.register("/assets/js/serviceworker.js")
                .then(function( registration ) {
                    console.log( "Service Worker success:", registration.scope );
                }).catch(function( error ) {
                console.log( "Service Worker error:", error );
            });
        });
    }
</script>